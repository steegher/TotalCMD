<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<html>
<head>
  <title>Документация TCTorrent</title>
  <meta name="Author" content="Dmitry Yudin">
  <meta name="Keywords" content="">
  <meta name="Description" content="">
  <meta http-equiv="Content-Language" content="ru">
  <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
  <style type="text/css">
  <!--
  body {font-family: Verdana, Tahoma; font-size: 10pt}
  h1 {font-size: 16pt}
  h2 {font-size: 14pt}
  .comment {width: 800px; padding-top: 8px; podding-bottom: 0px; font-family: Verdana; font-size: 10pt}
  .image {margin-top: -5px}
  -->
  </style>
</head>

<body>

<h1>TCTorrent plugin for Total Commander 2.0.3 beta</h1>

<h2>Описание плагина</h2>
<p>TCTorrent - это совмещенный WLX/WDX плагин для работы с файлами .torrent. Эта реализация использует другой подход к визуализации содержимого файла, в отличие от предыдущих реализаций. Обе части, контентная и листерная, полностью поддерживают юникод.

<h2>Требования</h2>
<p>Плагин тестировался на:
<ul>
	<li>Total Commander 7.56 под Windows XP Professional SP3 (x86)
	<li>Total Commander 8.0 beta x64 под Windows 7 (x64)
</ul>

<h2>Установка</h2>
<p>Просто откройте wlx_wdx_tctorrent.zip в Total Commander для запуска автоматической установки.

<h2>Использование</h2>
<p>Конфигурирование колонок в Total Commander смотрите в документации на программу. Вы можете выбрать:
<ul>
	<li>Название
	<li>Число файлов
	<li>Общий размер
	<li>Размер блока
	<li>Число блоков
	<li>Трекер ("Полный" и "Только хост")
	<li>Дата создания
	<li>Хэш SHA
	<li>Программа
	<li>Комментарий
	<li>Кодировка
	<li>Приватный
	<li>Многофайловый
	<li>Ошибки (содержит данные, если при загрузке файла произошла ошибка)
</ul>
<p>В части просмотра вы можеет использовать контекстное меню для копирования либо только данных, либо всей строки с форматированием и дополнительной информацией. Если в данных содержатся ссылки, то они при вызове меню они появятся в нем. Также работает поиск.
<p>Экспорт позволяет извлекать значки, но для их преобразования нужен установленный GDI+. Если у вас хотя бы WinXP, он у вас скорее всего уже установлен. Также, значки в HTML будут видимы только в современных браузерах, IE6 не входит в их число, извините. 

<h2>Горячие клавиши</h2>
<ul>
	<li>Ctrl+A - выделить всё
	<li>Ctrl+C - копировать данные (без заголовков)
	<li>Shift+Ctrl+C  - копировать всё (включая заголовки)
	<li>Shift+Ctrl+Down - развернуть все папки
	<li>Shift+Ctrl+Up - свернуть все папки
	<li>Ctrl+E - экспорт HTML
	<li>Ctrl+D - открыть текущий торрент в связанном (или пользовательском) клиенте
	<li>Ctrl+O - опции
	<li>Ctrl+Z - развернуть/свернуть секцию "Дополнительно"
	<li>Ctrl+G - открыть URL в выделенной строке (если есть) в бразуере
</ul>

<h2>Опции</h2>
<p>Разъяснение некоторых опций, которые могут быть неочевидны.
<p><b>Группы расширений</b> - здесь вы можете определить группы расширений. После этого ваша группа появится в списке доступных стилей, где вы можете задать их собственный цвет.

<p><b>Magnet - Шаблон для отображения</b> - здесь вы можете ввести текст, который будет виден при просмотре (ссылка все равно останется полной). В этом тексте вы можете использовать подстановки:
<ul>
	<li>%HS - Хэш SHA1
	<li>%HB - Хэш BASE32
	<li>%N - имя торрента
	<li>%T - трекер
	<li>%S - размер
</ul>

<p><b>Клиент - Пользовательский торрент-клиент</b> - вы можете использовать здесь собственный торрент-клиент (например, портабельный). В обоих полях вы можете использовать переменные окружения (например %COMMANDER_PATH%). В поле параметров также можете использовать подстановки: 
<ul>
	<li>%P - полный путь к файлу торрента
	<li>%L - список файлов, выделенных в окне просмотра (будет создан в станадтном формате TC)
</ul>

<h2>Опции, изменяемые правкой ini-файла</h2>
<p><b>MarginLeft</b> - левый отступ. По-умолчанию 3.


<h2>История версий</h2>
<pre>
Version 2.0.4 (2019-03-31) beta
+ WDX: добавлено поле с числом полей, неподдерживаемых плагином
+ WLX: добавлен просмотр нестандартных полей для файлов
+ WLX: улучшен просмотр нестандартных полей, теоретически, должны показываться все доступные поля
+ добавлена поддержка большего числа полей с суффиксом .utf-8 (старый BitComet)
+ WLX: поддержка publisher и publisher-url
+ парсер теперь должен быть более толерантен к повреждениям структуры
- WLX: исправлено раскрытие элементов при поиске 
+ WLX: протокол ed2k:// теперь должен определяться как ссылка
- WLX: исправлена неправильная кодировка в нестандартных полях
- WCX: исправлен размер для файлов > 4Gb

Version 2.0.3 (2019-03-24) beta
* wdx-версия отдельно больше выкладываться не будет (в этом уже нет смысла)
* файлы перевода теперь в юникоде
+ добавлена простая функциональность WCX (просмотр структуры файлов)
- WLX: исправлена неправильная кодировка в некоторых комментариях (возможно в других секциях тоже) 
* шрифт по умолчанию MS Sans Serif изменен на Microsoft Sans Serif (юникодный)
+ поиск может производиться с применением опций "слово целиком", "в обратном порядке" и "учитывать регистр"
- исправлен поиск, также ищет в заголовках (папках)
+ WLX: статусная строка показывает статус загрузки торрента (успешно или с ошибками)
+ Parser: перевод ошибок
+ Немного переделано отображение ошибок (показываются в списке, без всплывающих окон)
+ Parser: будет пытаться исправить некоторые некорректные файлы для их отображения
- Parser: поддерживается случай, когда "announce-list" фактически не список, а строка
- WLX: практически устранено мерцание списка

Version 2.0.2 (2012-04-03)
+ Добавлен венгерский перевод (спасибо Bluestar)
- Parser: исправлена ошибка на некоторых торрентах с сегментом "url-list"

Version 2.0.1 (2011-11-29)
* Обновлен украинский перевод (спасибо Maximus)
- Parser: исправлена ошибка на некоторых торрентах с большими текстовыми блоками

Version 2.0.0 (2011-11-11)
* WDX: объединены поля "Трекер" и "Трекер (хост)" (использованием единиц)

Version 1.0.22 (beta) (2011-11-10)
+ Parser: добавлены более информативные сообщения о ошибках
- WDX: исправлено разделение тысяч на некоторых локалях
- WLX: дублирующийся текст в строках, где ссылка находится в конце текста
- Parser: исправлена ошибка на файлах с поврежденным сегментом "announce-list"
- Parser: исправлена ошибка с чтением отрицательных целых чисел

Version 1.0.21 (beta) (2011-11-09)
+ WLX: шаблон для отображения магнита
+ WLX: наконец (?) исправлена ширина текста
* WLX: убрана опция для укорачивания магнита (теперь шаблон)

Version 1.0.20 (beta) (2011-11-08)
+ WLX: опция для укорачивания магнита при просмотре
+ WLX: добавлен пункт меню "Копировать ссылку"
* WLX: убрано сочетание Ctrl+Click (теперь просто кликайте ссылку)
* WLX: убран пункт меню "Ссылки"
- WDX: неправильное отображение SHA1
- WLX: исправлено положение, где появляется меню ссылок
- WLX: наконец исправлено вычисление ширины текста
- WLX: исправлено пропадание размера при включенной опции "Скрыть скобки"

Version 1.0.19 (beta) (2011-11-03)
+ WLX: настраиваемый цвет выделенных элементов
+ WLX: добавлен левый отступ
* WLX: обновлен украинский перевод
- WLX: неправильная отрисовка отскроллированного окна
- WLX: исправлена (опять) установка максимальной ширины окна

Version 1.0.18 (beta) (2011-11-02)
+ WLX: подсветка ссылок в списке
+ WLX: для размеров можно спрятать скобки
- WLX: не появлялся скроллбар, когда ширина информации > ширины файлов

Version 1.0.17 (beta) (2011-10-25)
+ WLX: Ctrl+G переходит по ссылке в выделенной строке
+ WLX: при необходимости, будет появляться горизонтальный скроллбар
- WLX: исправлена неправильная detect string
* WLX: слегка увеличена скорость загрузки

Version 1.0.15 (beta) (2010-12-27)
+ Парсер предпочтительно использует теги ***.utf-8 если они найдены
+ WLX: добавлено перекодирование некоторых азиатских кодировок, если они корректно указаны в файле
- WLX: исправлено падение на некоторых испорченных торрентах
- WLX: исправлено копирование русского текста в буфер

Version 1.0.14 (beta) (2010-12-25)
+ WDX: задействована фоновая загрузка торрентов
+ WDX: добавлен кэш для ускорения повторного просмотра

Version 1.0.13 (beta) (2010-12-25)
- WDX: не считался размер для многофайловых торрентов
- Различные исправления, связанные с обработкой UTF-8
- Поддержка юникода была отключена
* Изменен тип полей Multifile и Private в булевый
+ WDX: добавлено забытое поле Multiline

Version 1.0.12 (beta) (2010-12-24)
+ WDX: Добавлено поле, выводящее только хост трекера (http://bt.tracker.org/announce -> bt.tracker.org)
- WLX: Новые поля не добавлялись в список
+ WLX: Добавлено поле с Magnet-ссылкой
+ WLX: Добавлены различные горячие клавиши
- WLX: Исправлена проблема, когда плагин блокировал переименование каталога, в котором был просмотренный торрент
- WLX: Исправлен поиск русского текста
+ WLX: Поддержка юникода для отображения, надежно работает только с торрентами, реально закодированными UTF-8
+ WLX: Добавлена поддержка Web-сидов
+ Добавлено поле "Многофайловый"
* Флаг приватности теперь сделан отдельным полем
* Поле "Дополнительно" убрано - все возможные в будущем дополнительные параметры будут в своих полях
* Различные оптимизации скорости
* Написан свой парсер торрент-файлов, скорость работы увеличилась в ~2 раза

Version 1.0.11 (beta) (2010-07-08)
+ Добавлено перемещение полей в настройках с клавиатуры (Ctrl+Arrows)
- Исправлены мелкие баги

Version 1.0.10 (beta) (2010-07-06)
+ Добавлена возможность изменять порядок информационных полей
+ Добавлена возможность выбрать свой торрент-клиент
- Исправлена невозможность перемещаться по элементам списка в опциях клавиатурой

Version 1.0.9 (beta) (2010-06-30)
+ Расцветка файлов по расширениям

Version 1.0.2 (2010-06-30)
- Небольшое исправление языкового файла
- Исправлен некорректный символ "e" в имени поля "Created". Если вы используете его, то поменяйте его в своих настройках.

Version 1.0.1 (2010-06-26)
- Исправлено падение wdx на файлах с юникодовыми именами, не имеющими связанного короткого имени (спасибо CheeseCake)

Version 1.0.0 (2010-06-24)
- Исправлено неверное отображение размеров при включенной опции "Разделитель тысяч" (спасибо za222)
- Исправлена работа с клавиатурой при переходе на плагин в режиме Ctrl+Q (спасибо Den_Klimov)

Version 0.93 (2010-03-14)
+ Испанский перевод (спасибо Jose Manuel Breto)
- Исправлен перехват фокуса в режиме Ctrl+Q
- Исправлено падение при нажатии Esc в режиме Ctrl+Q

Version 0.92 (2009-12-16)
+ Украинский перевод интерфейса (спасибо Maximus)
+ Опция запоминать (или нет) путь экспорта
* Диалог "о плагине" перемещен на страницу опций
- Исправлен баг WLX, когда не отображался список трекеров на торрентах без сегмента "announce"

Version 0.91 (2009-11-30)
+ Плагин пытается замаскировать пасскей при экспорте html (опционально)
- Исправлена некорректная обработка списка трекеров, что приводило к задваиванию URL

Version 0.90 (2009-11-20)
+ Ctrl+Click открывает URL, найденный в данных (если ссылок больше одной, выводится меню)
+ Имя торрента подставляется как имя файла экспорта
+ Плагин теперь не показывает название и значок клиента в статусе, если нет ассоциированного клиента
* Стили сбрасываются в стандартные значения по отдельности
* "Авто" высота строки теперь 0 вместо -1 (косметика)
* Список трекеров выводится без дубликатов
- Исправлено падение плагина на файлах с отсутствующим сегментом "announce"
- Исправлено копирование русского текста в буфер обмена на системах без известного хака "c_1251.nls"

Version 0.89 (2009-11-07)
- Исправлена ошибка при переключении на другой плагин клавишей "4"
- Исправлен перевод формы просмотра при выборе языка вручную

Version 0.88 (2009-11-06)
* Теперь экспорт производится в UTF-8
+ Подтверждение перезаписи для экспорта
+ Возможность ручного задания высоты строки
- Исправлен мелкий баг с определением URL
- Исправлено отображение единиц в экспорте

Version 0.87 (2009-10-29)
+ Добавлен простой экспорт в HTML (для экспорта значков требуется GDI+)

Version 0.86 (2009-10-29)
+ Очень значительно увеличена скорость загрузки
- Возможно исправлена проблема с падением на некоторых торрентах

Version 0.85 (2009-10-28)
* Увеличена скорость юникодной версии WDX
+ Юникодный WDX теперь действительно юникодный
+ Сброс настроек стиля в стандартные значения
+ Опция для раскрытия при запуске всех элементов
+ Счетчик файлов (может давать неверные значения на юникодных именах)
- Исправлены случайные падения в юникодном WDX
- Исправлено неверное вычисление положения разделителя в информационном блоке
- Изменен парсер для возможности загрузки файлов с поврежденным сегментом "announce-list"

Version 0.81 (2009-10-22)
+ Возможность ручного выбора языка в случае неверного автоопределения
- Возможно исправлен баг с пропадающими значками

Version 0.80 (2009-10-21)
* TCTorrent.sample.ini больше не нужен, файл конфигурации создается автоматически
* Некоторые ключи ini-файла изменились, рекомендуется удалить старый файл конфигурации перед использованием новой версии
+ Разделитель тысяч
+ Диалог настроек
+ Многострочные комментарии теперь действительно многострочные и могут быть развернуты
- Исправлен метод получения языка
- Исправлено неправильное поведение диалога "О плагине"

Version 0.71 (2009-10-05)
+ Копирование примера конфигурации в рабочую копию, если она не найдена
- Исправлено пропадание значка клиента после вызова окна "О плагине"
- Исправлено два бага, связанных со сворачиванием/разворачиванием элементов

Version 0.70 (2009-10-01)
+ Возможность использования больших значков
+ Добавлено обнаружение строк, сохраненных в ANSI
+ Значительно ускорена загрузка плагина
+ Пункты меню для сворачивания/разворачивания всех каталогов
+ Опция округления занчений размера до целого
+ Сворачивание/разворачивание каталогов по Enter
+ Добавлена поддержка юникодных файлов для WDX
* Изменен метод отображения прогресса загрузки
- Исправлена функция поиска для случаев, когда открыто несколько окон листера
- Устранено мельтешение при клике правой кнопкой мыши
- Исправлена работа с юникодовыми именами в WLX
- Исправлено падение плагина на торренте с огромными комментариями

Version 0.60 (2009-09-29)
+ Прогресс загрузки для торрентов с большим количеством файлов
+ Опция: отображение значков ассоциированных программ
+ Опции отображения размера (авто или фиксированные единицы)
+ Опция: состояние отображения дополнительной информации при запуске (скрыта или нет)
+ Возможность установить цвет и шрифты для различных элементов
+ Статусна строка
+ Скрытие/отображение информации и содержимого каталогов
+ Добавлено 3 параметра в WDX: Program name, Encoding и флаг Private.
+ Окно стартует сфокусированным
+ Выравнивание размера
- Исправлено некорректное отображение суммарных объемов каталогов
- Исправлена совместимость с Universal Viewer

Version 0.50 (2009-09-23)
  Первый релиз.
</pre>

<h2>Благодарности</h2>
<p>Christian Ghisler - за бесконечно мощный инструмент.
<p>Maximus - украинский перевод
<p>Jose Manuel Breto - испанский перевод

<h2>Лицензия</h2>
<p>Copyright (c) 2009-2011 Dmitry Yudin

<p>Плагин распространяется бесплатно. 

<p>А лицензии у нас все равно никто не читает :)
